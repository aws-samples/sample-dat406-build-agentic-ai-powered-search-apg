AWS Workshop Studio Deployment Checklist
=========================================

PRE-DEPLOYMENT
--------------
[✓] CloudFormation template has EnableHttpEndpoint: true on RDS cluster
[✓] EC2 IAM role has required permissions:
    - rds-data:ExecuteStatement
    - secretsmanager:GetSecretValue
    - bedrock:InvokeModel
[✓] Bootstrap script path configured: deployment/bootstrap-labs.sh
[✓] Repository URL set or files pre-loaded
[✓] Python 3.13 installed on EC2
[✓] Node.js 18+ installed on EC2

CODE READINESS
--------------
[✓] Single README.md (no extra markdown files)
[✓] Bootstrap script auto-generates:
    - .env files with DB_CLUSTER_ARN and DB_SECRET_ARN
    - MCP config with correct ARNs
    - Bash aliases (start-backend, start-frontend, start-jupyter)
[✓] start-backend regenerates MCP config on each start
[✓] All commands work from any directory
[✓] No hardcoded account IDs or ARNs
[✓] IAM role credentials passed to MCP subprocess
[✓] Frontend configured for CloudFront or localhost

AUTOMATION VERIFIED
-------------------
[✓] Step 2: Fetches DB credentials from Secrets Manager
[✓] Step 3: Creates .env files (root, backend, frontend)
[✓] Step 8: Generates MCP config with correct ARNs
[✓] Step 10: Configures bash aliases in .bashrc
[✓] Dependencies installed: Python (strands-agents, MCP), Node

PARTICIPANT EXPERIENCE
----------------------
[✓] Login → See welcome message
[✓] Type: start-backend (works immediately)
[✓] Type: start-frontend (works immediately)
[✓] No cd required
[✓] No manual configuration
[✓] Chat feature works (returns products)

TEST COMMANDS
-------------
After deployment, SSH to instance and run:

1. Check environment:
   cat /workshop/sample-dat406-build-agentic-ai-powered-search-apg/lab2/backend/.env | grep ARN

2. Check IAM role:
   aws sts get-caller-identity

3. Start backend:
   start-backend

4. Test chat (new terminal):
   curl -X POST http://localhost:8000/api/chat \
     -H "Content-Type: application/json" \
     -d '{"message": "Show me smartphones"}'

EXPECTED RESULTS
----------------
✓ .env files exist with correct ARNs
✓ MCP config generated
✓ Backend starts without errors
✓ Chat returns JSON with products array
✓ No "ProfileNotFound" errors
✓ No manual steps needed

READY FOR DEPLOYMENT: YES ✓
===========================

Next Steps:
1. Push code to GitHub
2. Configure Workshop Studio with:
   - CloudFormation template
   - Bootstrap script path
   - Repository URL
3. Deploy and test
4. Verify participant experience
